<launch>
    <arg name="input_overlayed_pose" description=""/>
    <let name="input_ground" value="/localization/map/ground"/>
    <let name="input_projected_lsd_cloud" value="/localization/imgproc/projected_lsd_cloud"/>
    <let name="input_ll2_sign_board" value="/localization/map/ll2_sign_board"/>
    <let name="input_ll2_road_marking" value="/localization/map/ll2_road_marking"/>
    <arg name="resized_image" description=""/>
    <arg name="resized_info" description=""/>

    <!-- overlay monitor -->
    <node name="overlay" pkg="overlay_monitor" exec="overlay_node" output="screen" args="--ros-args --log-level warn">
        <remap from="src_image" to="$(var resized_image)"/>
        <remap from="src_info" to="$(var resized_info)"/>
        <remap from="particle_pose" to="$(var input_overlayed_pose)"/>

        <remap from="ground" to="$(var input_ground)"/>
        <remap from="projected_lsd_cloud" to="$(var input_projected_lsd_cloud)"/>
        <remap from="ll2_sign_board" to="$(var input_ll2_sign_board)"/>
        <remap from="ll2_road_marking" to="$(var input_ll2_road_marking)"/>
    </node>

    <!-- fix to pose -->
    <node name="fix_to_pose" pkg="path_monitor" exec="fix_to_pose" output="log" args="--ros-args --log-level warn">
        <param name="use_sim_time" value="$(var use_sim_time)"/>
        <remap from="pose" to="/sensing/gnss/ublox/pose"/>
        <remap from="fix_topic" to="/sensing/gnss/ublox/nav_sat_fix"/>
        <remap from="ground" to="/localization/map/ground"/>
    </node>

    <!-- pose to path -->
    <node name="pose_to_path" pkg="path_monitor" exec="pose_to_path" output="log" args="--ros-args --log-level warn">
        <param name="use_sim_time" value="$(var use_sim_time)"/>
        <param name="sub_topics" value="[/sensing/gnss/ublox/pose,/localization/pf/pose]"/>
        <param name="pub_topics" value="[/sensing/gnss/ublox/path,/localization/pf/path]"/>
    </node>

</launch>